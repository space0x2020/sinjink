<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="style.css">
<title>SQL UPDATE</title>
</head>
<body>

#include "style_svg.css"
<div id="svgdefs" style="display:none;">
  <svg>
#include "svg_components.svg"
#include "shain_table.svg"
  </svg>
</div>

<div id="campus" class="basepane" style="height:1800;">
<div style="display:block">
<input type="button" id="B19_01" onclick="disppage(19, 1);" value="[1]insert" />
<input type="button" id="B19_02" onclick="disppage(19, 2);" value="[2]update" />
<input type="button" id="B19_03" onclick="disppage(19, 3);" value="[3]delete" />
<input type="button" id="B19_04" onclick="disppage(19, 4);" value="[4]transaction" />
</div>


<div id="dbsql19_01" class="page">
<div class="pagetitle"><h3 class="pagetitle">[1] INSERT文</h3></div>
<div class="pagebody">
<p class="bplist">
■ 社員表に社員番号 000006, 氏名 小泉　純,給与 500000, 部署コード 9993 を挿入
</p>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="160" viewBox="0 0 800 160">
  <g id="sql_ins_1_fig">
    <g id="sql_ins_1__shaintable1" transform="translate(0, 0)">
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable" transform="translate(0, 0)"></use>
    </g>
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#rarrow1_40" transform="translate(300, 130)"></use>
    <g id="sql_ins_1_shaintable2" transform="translate(340, 0)">
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable" transform="translate(0, 0)"></use>
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable_R6" transform="translate(0, 120)"></use>
    </g>
  </g>
</svg>
<p class="plist">(1) 列名を省略した場合</p>
<div class="plist1">
<pre class="codelist">
&gt; INSERT INTO 社員表 VALUES ('000006', '小泉　純', 500000, '0003')
</pre>
</div>
<p class="plist">(2) 列名を記述した場合</p>
<div class="plist1">
<pre class="codelist">
&gt; INSERT INTO 社員表(社員番号, 社員名, 給与, 部署コード)
  VALUES ('000006', '小泉　純', 500000, '0003')
</pre>
</div>
<p class="plist">(3) 部署コードを省略する場合(省略した場合、nullとなる)
</p>
<div class="plist1">
<pre class="codelist">
&gt; INSERT INTO 社員表(社員番号, 社員名, 給与)  VALUES ('000006', '小泉　純', 500000)
</pre>
</div>
<p class="plist">(4) nullを挿入する場合</p>
<div class="plist1">
<pre class="codelist">
&gt; INSERT INTO 社員表(社員番号, 社員名, 給与)
   VALUES ('000006', '小泉　純', 500000)
</pre>
<pre class="codelist">
&gt; INSERT INTO 社員表(社員番号, 社員名, 給与,　部署コード) 
   VALUES ('000006', '小泉　純', 500000, null)
</pre>
<pre class="codelist">
&gt; INSERT INTO 社員表 VALUES ('000006', '小泉　純', 500000, null)
</pre>
</div>
</div><!-- pagebody -->
</div><!-- page -->


<div id="dbsql19_02" class="page">
<div class="pagetitle"><h3 class="pagetitle">[2] UPDATE文</h3></div>
<div class="pagebody">
<p class="bplist">
■ 社員表の社員番号 000006の部署コードを0001に変更
</p>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="220" viewBox="0 0 800 220">
  <g id="sql_upd_1_fig">
    <g id="sql_upd_1__shaintable1" transform="translate(0, 0)">
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable" transform="translate(0, 0)"></use>
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable_R6" transform="translate(0, 120)"></use>
      <rect class="ff sw2 act" rx="5" x="222" y="122" width="76" height="16" />
    </g>
    <g id="sql_upd_1_shaintable2" transform="translate(340, 0)">
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable" transform="translate(0, 0)"></use>
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable_R6_1" transform="translate(0, 120)"></use>
      <rect class="ff sw2 act" rx="5" x="222" y="122" width="76" height="16" />
    </g>
    <path class="ff sw2" d="M260,140 Q260,180 400,180 Q600,180 600,140 " />
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#garrowheadcw_10U" transform="translate(600, 140),rotate(20)"></use>
  </g>
</svg>
<p class="plist">(1) UPDATE文</p>
<div class="plist1">
<pre class="codelist">
&gt; UPDATE 社員表 SET 部署コード = '0001' WHERE <u>社員番号 = '000006'</u>
</pre>
</div>
<p class="plist">(2) where句を省くと</p>
<div class="plist1">
<pre class="codelist">
&gt; UPDATE 社員表 SET 部署コード = '0001'
</pre>
<p class="plist1"><u>社員表のすべてのデータ(行)の部署コードが'0001'になる。</u></p>
</div>
</div><!-- pagebody -->
</div><!-- page -->


<div id="dbsql19_03" class="page">
<div class="pagetitle"><h3 class="pagetitle">[3] DELETE文</h3></div>
<div class="pagebody">
<p class="bplist">
■ 社員表から社員番号 000006のデータ(行)を削除
</p>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="220" viewBox="0 0 800 220">
  <g id="sql_upd_1_fig">
    <g id="sql_upd_1__shaintable1" transform="translate(0, 0)">
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable" transform="translate(0, 0)"></use>
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable_R6_1" transform="translate(0, 120)"></use>
    </g>
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#rarrow1_40" transform="translate(300, 130)"></use>
    <g id="sql_upd_1_shaintable2" transform="translate(340, 0)">
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable" transform="translate(0, 0)"></use>
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ex_shaintable_R_BLANK" transform="translate(0, 120)"></use>
    </g>
  </g>
</svg>
<p class="plist">(1) DELETE文</p>
<div class="plist1">
<pre class="codelist">
&gt; DELETEE FROM 社員表 WHERE <u>社員番号 = '000006'</u>
</pre>
</div>
<p class="plist">(2) where句を省くと</p>
<div class="plist1">
<pre class="codelist">
&gt; DELETE FROM 社員表
</pre>
<p class="plist1"><u>社員表のすべてのデータ(行)が削除される。</u></p>
</div>
</div><!-- pagebody -->
</div><!-- page -->


<div id="dbsql19_04" class="page">
<div class="pagetitle"><h3 class="pagetitle">[4] トランザクション文</h3></div>
<div class="pagebody">
<p class="bplist">
■ トランザクションの開始<br />
BEGIN [TRANSACTION]
</p>
<p class="bplist">
■ トランザクションの取り消し<br />
ROLLBACK
</p>
<p class="bplist">
■ トランザクションの確定<br />
COMMMIT
</p>
<p class="plist">例：COMMIT</p>
<div class="plist1">
<pre class="codelist">
&gt; BEGIN TRANSACTION;
&gt; UPDATe 部署表 SET 部署名 = '販売部' WHERE 部署コード = '0002';
&gt; COMMIT;
</pre>
</div>
</p>
<p class="plist">例：ROLLBACK</p>
<div class="plist1">
<pre class="codelist">
&gt; BEGIN TRANSACTION;
&gt; UPDATE 部署表 SET 部署名 = '販売部' WHERE 部署コード = '0002';
&gt; ROLLBACK;
</pre>
</div>
</p>
</div><!-- pagebody -->
</div><!-- page -->

</div><!-- campus -->
#ifdef MOODLE
<script text/script="javascript">
#include "changepage.js"
</script>
#else
<script src="changepage.js"></script>
#endif
<script text/script="javascript">
  setpagename("dbsql", "dbdqlsub");
</script>
</body>
</html>
