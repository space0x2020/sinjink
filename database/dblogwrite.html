<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="style.css">
<title>DB LOGWRITE</title>
</head>
<body>

<div style="display:none">
<svg>
  <defs>
    <g id="dbmsbase">
      <rect x="0" y="0" width="764" height="512" fill="black" />
      <rect x="150" y="65" width="70" height="30" stroke="white" stroke-width="1" fill="none"/>
      <text x="185" y="85" font-size="14" text-anchor="middle" stroke="white">emp表</text>
      <rect x="150" y="95" width="70" height="30" stroke="white" stroke-width="1" fill="none"/>
      <ellipse cx="80" cy="110" rx="50" ry="20" stroke="lightgreen" stroke-width="1" fill="#ccffcc"/>
      <text x="80" y="110" font-size="12" text-anchor="middle" stroke="black">ユーザ</text>
      <text x="80" y="122" font-size="12" text-anchor="middle" stroke="black">プロセス</text>
      <ellipse cx="80" cy="210" rx="50" ry="20" stroke="lightgreen" stroke-width="1" fill="#ccffcc"/>
      <text x="80" y="210" font-size="12" text-anchor="middle" stroke="black">サーバ</text>
      <text x="80" y="222" font-size="12" text-anchor="middle" stroke="black">プロセス</text>
      <rect x="350" y="30" width="60" height="24" stroke="lightgreen" stroke-width="2" fill="#ccffff"/>
      <text x="380" y="48" text-anchor="middle" font-size="14" fill="black">メモリ</text>
      <rect x="350" y="55" rx="15" ry="10" width="340" height="100" stroke="blue" stroke-width="2" fill="none"/>
      <rect x="365" y="65" width="140" height="80" stroke="lightgreen" stroke-width="2" fill="#ccffff"/>
      <text x="435" y="80" text-anchor="middle" font-size="14" font-weight="bolder" fill="black">バッファキャッシュ</text>
      <rect x="535" y="65" width="140" height="80" stroke="lightgreen" stroke-width="2" fill="#ccffff"/>
      <text x="605" y="80" text-anchor="middle" font-size="14" font-weight="bolder" fill="black">ログバッファ</text>
      <rect x="350" y="200" width="80" height="24" stroke="lightgreen" stroke-width="2" fill="yellow"/>
      <text x="390" y="218" text-anchor="middle" font-size="14" fill="black">ディスク</text>
      <rect x="350" y="225" rx="15" ry="10" width="340" height="150" stroke="blue" stroke-width="2" fill="#ffff99"/>
      <g transform="matrix(0.8, 0.0, 0.0, 0.6, 395, 310.0)">
        <path d="M 0 20 Q 50 0 100 20 L 100 70 Q 50 90  0 70 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="m 0 20 Q 50 40 100 20" stroke="red" stroke-width="1" fill="#ffcc99" />
      </g>
      <g transform="matrix(0.8, 0.0, 0.0, 0.6, 395, 270.0)">
        <path d="M 0 20 Q 50 0 100 20 L 100 70 Q 50 90  0 70 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="m 0 20 Q 50 40 100 20" stroke="red" stroke-width="1" fill="#ffcc99" />
      </g>
      <g transform="matrix(0.8, 0.0, 0.0, 0.6, 395, 230.0)">
        <path d="M 0 20 Q 50 0 100 20 L 100 70 Q 50 90  0 70 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="m 0 20 Q 50 40 100 20" stroke="red" stroke-width="1" fill="#ffcc99" />
      </g>
      <text x="435" y="262" text-anchor="middle" font-size="11" fill="black" font-weight="bolder">データファイル</text>
      <text x="373" y="290" text-anchor="middle" font-size="12" fill="black" font-weight="bolder">emp表</text>
      <g transform="matrix(0.8, 0.0, 0.0, 0.6, 565, 270.0)">
        <path d="M 0 20 Q 50 0 100 20 L 100 70 Q 50 90  0 70 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="m 0 20 Q 50 40 100 20" stroke="red" stroke-width="1" fill="#ffcc99" />
      </g>
      <g transform="matrix(0.8, 0.0, 0.0, 0.6, 565, 230.0)">
        <path d="M 0 20 Q 50 0 100 20 L 100 70 Q 50 90  0 70 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="m 0 20 Q 50 40 100 20" stroke="red" stroke-width="1" fill="#ffcc99" />
      </g>
      <text x="605" y="262" text-anchor="middle" font-size="11" fill="black" font-weight="bolder">ログファイル</text>
      <text x="160" y="115" font-size="14" stroke="white">A</text>
    </g>
    </defs>
    <defs>
      <g id="bbbutton">
        <path d="M 0 10 10 20 10 0 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="M 10 10 20 20 20 0 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
      </g>
    </defs>
    <defs>
      <g id="bwbutton">
        <path d="M 0 0 0 20 5 20 5 10 20 20 20 0 5 10 5 0 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="M 10 10 17 15 17 5 Z" stroke="blue" strole-width="1" fill="#ff5555" />
      </g>
    </defs>
    <defs>
      <g id="fwbutton" transform="matrix(-1,0,0,1,0,0)">
        <path d="M 0 0 0 20 5 20 5 10 20 20 20 0 5 10 5 0 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="M 10 10 17 15 17 5 Z" stroke="blue" strole-width="1" fill="#ff5555" />
      </g>
    </defs>
    <defs>
      <g id="ffbutton" transform="matrix(-1,0,0,1,0,0)">
        <path d="M 0 10 10 20 10 0 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
        <path d="M 10 10 20 20 20 0 Z" stroke="red" stroke-width="1" fill="#ffcc99" />
      </g>
    </defs>
    <defs>
      <g id="infobefore">
        <path d="M 0 32 0 43 Q 0 50 7 50 L 73 50 Q 80 50 80 43 L 80 32 Q 80 25 73 25 L 55 25 70 0 45 25 7 25 Q 0 25 0 32 Z" stroke="black" stroke-width="2" fill="lightgray" />
        <text x="5" y="43" font-size="14" fill="black">変更前情報</text>
      </g>
    </defs>
    <defs>
      <g id="infoafter">
        <path d="M 0 32 0 43 Q 0 50 7 50 L 73 50 Q 80 50 80 43 L 80 32 Q 80 25 73 25 L 45 25 20 0 35 25 7 25 Q 0 25 0 32 Z" stroke="black" stroke-width="2" fill="lightgray" />
        <text x="5" y="43" font-size="14" fill="black">変更後情報</text>
      </g>
    </defs>
  <defs>
    <marker id="arrowheadx" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</svg>
</div>
<div id="campus" class="basepane" style="height:2800;">
<div style="display:block">
<input type="button" id="B01_01" onclick="disppage(1, 1);" value="1" />
<input type="button" id="B01_02" onclick="disppage(1, 2);" value="2" />
<input type="button" id="B01_03" onclick="disppage(1, 3);" value="3" />
<input type="button" id="B01_04" onclick="disppage(1, 4);" value="4" />
<input type="button" id="B01_05" onclick="disppage(1, 5);" value="5" />
<input type="button" id="B01_06" onclick="disppage(1, 6);" value="6" />
<input type="button" id="B01_07" onclick="disppage(1, 7);" value="7" />
<input type="button" id="B01_08" onclick="disppage(1, 8);" value="8" />
<input type="button" id="B01_09" onclick="disppage(1, 9);" value="9" />
<input type="button" id="B01_10" onclick="disppage(1, 10);" value="10" />
<input type="button" id="B01_11" onclick="disppage(1, 11);" value="11" />
<input type="button" id="B01_12" onclick="disppage(1, 12);" value="12" />
<input type="button" id="B01_13" onclick="disppage(1, 13);" value="13" />
<input type="button" id="B01_14" onclick="disppage(1, 14);" value="14" />
<input type="button" id="B01_15" onclick="disppage(1, 15);" value="15" />
<input type="button" id="B01_16" onclick="disppage(1, 16);" value="16" />
<input type="button" id="B01_17" onclick="disppage(1, 17);" value="17" />
<input type="button" id="B01_18" onclick="disppage(1, 18);" value="18" />
</div>

<div id="logwrite01_01" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar01">
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログ(1)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 2)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
  <rect x="420" y="320"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="335" text-anchor="middle" font-size="14" fill="black">A</text>
</svg>
</div>

<div id="logwrite01_02" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar02">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログ(2)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 3)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0,30)">
  <text x="10" y="250" font-size="16" fill="white" font-weight="bolder">①キャッシュに該当データがあるかを調べる。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">UPDATE  emp  SET v = B</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <circle cx="415" cy="100" r="30" stroke="red" stroke-width="2" fill="none" />
  <text x="350" y="180" font-size="16" fill="white" font-weight="bolder">①キャッシュチェック</text>
  <line x1="260" y1="230" x2="375" y2="130" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead2)" />
  <defs>
    <marker id="arrowhead2" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_03" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar03">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 2)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログ(3)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 4)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">①キャッシュに該当データがあるかを調べる。</text>
  <text x="10" y="275" font-size="16" fill="white" font-weight="bolder">②なければ、データファイルから読込む。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">UPDATE  emp  SET v = B</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <circle cx="415" cy="100" r="30" stroke="red" stroke-width="2" fill="none" />
  <line x1="435" y1="295" x2="415" y2="128" stroke="lightgreen" stroke-width="3" marker-end="url(#arrowhead3)" />
  <text x="440" y="180" font-size="16" fill="white" font-weight="bolder">②データファイルがら読込む</text>
  <defs>
    <marker id="arrowhead3" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_04" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar04">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 3)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログ(4)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 5)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">①キャッシュに該当データがあるかを調べる。</text>
  <text x="10" y="275" font-size="16" fill="gray" font-weight="bolder">②なければ、データファイルから読込む。</text>
  <text x="10" y="300" font-size="16" fill="white" font-weight="bolder">③変更内容をログバッファに記録する。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">UPDATE  emp  SET v = B</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead4)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>
  <circle cx="605" cy="100" r="50" stroke="red" stroke-width="2" fill="none" />
  <text x="430" y="50" font-size="16" fill="white" font-weight="bolder">③変更内容をログバッファへ書き込む</text>
  <defs>
    <marker id="arrowhead4" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_05" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar05">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 4)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログ(5)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 6)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">①キャッシュに該当データがあるかを調べる。</text>
  <text x="10" y="275" font-size="16" fill="gray" font-weight="bolder">②なければ、データファイルから読込む。</text>
  <text x="10" y="300" font-size="16" fill="gray" font-weight="bolder">③変更内容をログバッファに記録する。</text>
  <text x="10" y="325" font-size="16" fill="white" font-weight="bolder">④バッファキャッシュのデータを変更する。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">UPDATE  emp  SET v = B</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead5)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>
  <circle cx="415" cy="100" r="30" stroke="red" stroke-width="2" fill="none" />
  <text x="400" y="180" font-size="16" fill="white" font-weight="bolder">④バッファキャッシュのデータを変更する</text>
  <line x1="260" y1="310" x2="375" y2="130" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead5)" />
  <defs>
    <marker id="arrowhead5" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_06" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar06">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 5)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログの先書き</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 7)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<g transform="translate(0,30)">
<rect x="0" y="0" width="764" height="512" fill="black" />
<text x="350" y="220"  text-anchor="middle" fill="white" font-size="20">ログの先書き</text>
</g>
</svg>
</div>

<div id="logwrite01_07" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar07">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage('1, 6)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログの先書き(1)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 8)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="white" font-weight="bolder">①ログファイルへ変更内容を書き込む。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">COMMIT</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead7)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>
  <text x="360" y="180" font-size="16" fill="white" font-weight="bolder">①ログバッファの内容をログファイルへ書き出す。</text>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead7)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 310)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 310)"></use>

  <circle cx="605" cy="305" r="50" stroke="red" stroke-width="2" fill="none" />
  <line x1="605" y1="110" x2="605" y2="270" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead7)" />
  <defs>
    <marker id="arrowhead7" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_08" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar08">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 7)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログの先書き(2)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 9)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">①ログファイルへ変更内容を書き込む。</text>
  <text x="10" y="275" font-size="16" fill="white" font-weight="bolder">②COMMIT情報をログファイルへ書き込む。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">COMMIT</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead7)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>
  <text x="360" y="180" font-size="16" fill="white" font-weight="bolder">①ログバッファの内容をログファイルへ書き出す。</text>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="570" y="310"  width="70" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="605" y="325" text-anchor="middle" font-size="14" fill="black">COMMIT</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead8)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 310)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 310)"></use>

  <circle cx="605" cy="305" r="50" stroke="red" stroke-width="2" fill="none" />
  <line x1="315" y1="270" x2="540" y2="320" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead8)" />
  <defs>
    <marker id="arrowhead8" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_09" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar09">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 8)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログの先書き(3)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 10)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">①ログファイルへ変更内容を書き込む。</text>
  <text x="10" y="275" font-size="16" fill="gray" font-weight="bolder">②COMMIT情報をログファイルへ書き込む。</text>
  <text x="10" y="300" font-size="16" fill="white" font-weight="bolder">③COMMITしたことをユーザプロセスへ通知。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">COMMIT</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead7)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>
  <text x="120" y="200" font-size="16" fill="white" font-weight="bolder">③COMMIT完了を通知</text>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="570" y="310"  width="70" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="605" y="325" text-anchor="middle" font-size="14" fill="black">COMMIT</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead8)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 310)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 310)"></use>

  <circle cx="80" cy="110" r="40" stroke="red" stroke-width="2" fill="none" />
  <line x1="115" y1="190" x2="115" y2="140" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead9)" />
  <defs>
    <marker id="arrowhead9" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_10" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar10">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 9)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">ログの先書き(4)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 11)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">①ログファイルへ変更内容を書き込む。</text>
  <text x="10" y="275" font-size="16" fill="gray" font-weight="bolder">②COMMIT情報をログファイルへ書き込む。</text>
  <text x="10" y="300" font-size="16" fill="gray" font-weight="bolder">③COMMITしたことをユーザプロセスへ通知。</text>
  <text x="10" y="325" font-size="16" fill="white" font-weight="bolder">④一定時間後にデータファイルへ変更を書き</text>
  <text x="30" y="345" font-size="16" fill="white" font-weight="bolder">出す。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">COMMIT</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead8)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>
  <text x="360" y="180" font-size="16" fill="white" font-weight="bolder">①ログバッファの内容をログファイルへ書き出す。</text>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="570" y="310"  width="70" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="605" y="325" text-anchor="middle" font-size="14" fill="black">COMMIT</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead8)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 310)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 310)"></use>

  <circle cx="435" cy="305" r="40" stroke="red" stroke-width="2" fill="none" />
  <line x1="415" y1="110" x2="435" y2="270" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead8)" />
  <defs>
    <marker id="arrowhead8" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_11" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar11">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 10)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">障害発生：ロールフォーワード</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 12)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<g transform="translate(0,30)">
<rect x="0" y="0" width="764" height="512" fill="black" />
<text x="350" y="220"  text-anchor="middle" fill="white" font-size="20">障害発生・ロールフォーワード</text>
</g>
</svg>
</div>

<div id="logwrite01_12" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar12">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 11)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">障害発生・ロールフォーワード(1)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 13)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="white" font-weight="bolder">①ログファイルへ変更内容を書き込む。</text>
  <text x="10" y="275" font-size="16" fill="white" font-weight="bolder">②COMMIT情報をログファイルへ書き込む。</text>
  <text x="10" y="300" font-size="16" fill="white" font-weight="bolder">③COMMITしたことをユーザプロセスへ通知。</text>
  <text x="10" y="325" font-size="16" fill="gray" font-weight="bolder">④一定時間後にデータファイルへ変更を書き</text>
  <text x="30" y="345" font-size="16" fill="gray" font-weight="bolder">出す。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">COMMIT</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead8)" />
  <text x="520" y="180" text-anchor="middle" font-size="16" fill="white" font-weight="bolder">障害発生</text>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="570" y="310"  width="70" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="605" y="325" text-anchor="middle" font-size="14" fill="black">COMMIT</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead8)" />

  <line x1="415" y1="110" x2="435" y2="275" stroke="lightgreen" stroke-width="4" marker-end="url(#arrowhead8s)" stroke-dasharray="5,5"/>
  <line x1="350" y1="60" x2="690" y2="150" stroke="red" stroke-width="2" />
  <line x1="350" y1="150" x2="690" y2="60" stroke="red" stroke-width="2" />
  <defs>
    <marker id="arrowhead8" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
  <defs>
    <marker id="arrowhead8s" refX="0" refY="2" markerWidth="4" markerHeight="4" orient="auto">
        <path d="M 0,0 V 4 L4,2 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_13" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar13">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 12)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">障害発生・ロールフォーワード(2)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 14)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="white" font-weight="bolder">①ログファイルにある変更後情報から</text>
  <text x="10" y="275" font-size="16" fill="white" font-weight="bolder">　データファイルを更新する。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">COMMIT</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="390" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="405" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="450" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="465" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="420" y1="300" x2="435" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead13)" />
  <text x="520" y="180" text-anchor="middle" font-size="18" fill="white" font-weight="bolder">ロールフォーワード</text>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="570" y="310"  width="70" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="605" y="325" text-anchor="middle" font-size="14" fill="black">COMMIT</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead13)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 310)"></use>

  <defs>
    <marker id="arrowhead13" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_14" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar14">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 13)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">チェックポイント</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 15)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<g transform="translate(0,30)">
<rect x="0" y="0" width="764" height="512" fill="black" />
<text x="350" y="220"  text-anchor="middle" fill="white" font-size="20">チェックポイント</text>
</g>
</svg>
</div>

<div id="logwrite01_15" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar15">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 14)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">チェックポイント(1)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 16)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">①キャッシュに該当データがあるかを調べる。</text>
  <text x="10" y="275" font-size="16" fill="gray" font-weight="bolder">②なければ、データファイルから読込む。</text>
  <text x="10" y="300" font-size="16" fill="gray" font-weight="bolder">③変更内容をログバッファに記録する。</text>
  <text x="10" y="325" font-size="16" fill="white" font-weight="bolder">④バッファキャッシュのデータを変更する。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">UPDATE  emp  SET v = B</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead5)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>
  <circle cx="415" cy="100" r="30" stroke="red" stroke-width="2" fill="none" />
  <text x="400" y="180" font-size="16" fill="white" font-weight="bolder">④バッファキャッシュのデータを変更する</text>
  <line x1="260" y1="310" x2="375" y2="130" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead5)" />
  <defs>
    <marker id="arrowhead5" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_16" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar16">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 15)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">チェックポイント(2)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 17)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="white" font-weight="bolder">⑤チェックポイント</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">UPDATE  emp  SET v = B</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead16)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>
  <text x="400" y="180" font-size="16" fill="white" font-weight="bolder">⑤メモリ上での変更をディスクに書き出す</text>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead16)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 310)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 310)"></use>
  <circle cx="435" cy="300" r="40" stroke="red" stroke-width="2" fill="none" />
  <circle cx="605" cy="300" r="40" stroke="red" stroke-width="2" fill="none" />
  <line x1="415" y1="110" x2="435" y2="270" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead16)" />
  <line x1="605" y1="110" x2="605" y2="270" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead16)" />
  <defs>
    <marker id="arrowhead16" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_17" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar17">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 16)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">チェックポイント(3)</text>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#fwbutton" transform="translate(649, 0)"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ffbutton" transform="translate(680, 0)"></use>
  </a>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">⑤チェックポイント</text>
  <text x="10" y="275" font-size="16" fill="white" font-weight="bolder">⑥障害発生</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">UPDATE  emp  SET v = B</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="400" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="415" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="420" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="435" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="560" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="105" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="90"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="105" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="100" x2="605" y2="100" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead17)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 110)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 110)"></use>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead17)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 310)"></use>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infoafter" transform="translate(615, 310)"></use>
  <circle cx="435" cy="300" r="40" stroke="red" stroke-width="2" fill="none" />
  <circle cx="605" cy="300" r="40" stroke="red" stroke-width="2" fill="none" />

  <line x1="350" y1="60" x2="690" y2="150" stroke="red" stroke-width="2" />
  <line x1="350" y1="150" x2="690" y2="60" stroke="red" stroke-width="2" />
  <defs>
    <marker id="arrowhead17" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>

<div id="logwrite01_18" style="display:none">
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="440" viewBox="0 0 700 400">
<g id="commandbar18">
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 1)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bbbutton"></use>
  </a>
  <a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="javaScript:disppage(1, 18)">
    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bwbutton" transform="translate(40, 0)"></use>
  </a>
  <text x="350" y="20" text-anchor="middle" font-size="20" fill="white">チェックポイント(4)</text>
</g>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#dbmsbase" transform="translate(0, 30)"></use>
<g transform="translate(0, 30)">
  <text x="10" y="250" font-size="16" fill="gray" font-weight="bolder">⑤チェックポイント</text>
  <text x="10" y="275" font-size="16" fill="gray" font-weight="bolder">⑥障害発生</text>
  <text x="10" y="300" font-size="16" fill="white" font-weight="bolder">⑦ロールバック：ログファイルの変更前情報に</text>
  <text x="30" y="325" font-size="16" fill="white" font-weight="bolder">よりデータファイルのデータを戻す。</text>
  <rect x="10" y="150" width="200" height="16" fill="white" />
  <text x="12" y="164" font-size="14" fill="black">UPDATE  emp  SET v = B</text>
  <text x="160" y="115" font-size="14" stroke="white">A → B</text>
  <rect x="390" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="405" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <rect x="450" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="465" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <line x1="420" y1="300" x2="435" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead18)" />
  <text x="520" y="180" text-anchor="middle" font-size="18" fill="white" font-weight="bolder">ロールバック</text>

  <rect x="560" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="none" />
  <text x="575" y="305" text-anchor="middle" font-size="14" fill="black">A</text>
  <rect x="620" y="290"  width="30" height="20" stroke="black" stroke-width="1" fill="yellow" />
  <text x="635" y="305" text-anchor="middle" font-size="14" fill="black">B</text>
  <line x1="590" y1="300" x2="605" y2="300" stroke="lightgreen" stroke-width="2" marker-end="url(#arrowhead18)" />
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#infobefore" transform="translate(505, 310)"></use>

  <defs>
    <marker id="arrowhead18" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0,0 V 8 L8,4 Z" fill="lightgreen"></path>
    </marker>
  </defs>
</g>
</svg>
</div>


</div><!-- campus -->
#ifdef MOODLE
<script text/script="javascript">
#include "changepage.js"
</script>
#else
<script src="changepage.js"></script>
#endif
<script text/script="javascript">
  setpagename("logwrite", "logwritesub");
</script>
</body>
</html>
